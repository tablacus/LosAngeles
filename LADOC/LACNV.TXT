L-os Angeles コンバート

◆THE SENTINEL - RetroPC.NETからのダウンロード

MS-DOSのディレクトリには開始番地と終了番地を保存できないのでファイルの先頭に
THE SENTINEL - RetroPC.NETからダウンロードした拡張子が「obj」のファイルには

_SOS 01 3000 3000

というヘッダが付加されています。
Windowsのメモ帳で開くとこの部分を見ることができます。この前の「3000」が開始番地
後ろの「3000」が実行番地になります。

L-os Angelesの実行ファイルの拡張子は「BIN」なので「BIN」にリネームしてください。


◇X1 DiskExplorerで転送する場合
ツール(T)→オプション(O)→FAT12をLosAngelsとして開く にチェックを入れておきます。
上記のヘッダが付加されている場合に自動的にヘッダを削除しLAバイナリ形式に変換して
くれます。
MSXバイナリ形式に変換する場合はL3ディスクエクスプローラ(L3 Disk Explorer)と
同じコマンドを実行してLAバイナリ形式からMSXバイナリ形式に変換してください。


◇L3ディスクエクスプローラ(L3 Disk Explorer)で転送する場合
L-os Angelesの外部コマンド"BIN"でLAで実行できるように変換します。
ここでは例として「ZEDA.BIN」を変換します。

MSXバイナリ形式にする場合
BIN /M ZEDA.BIN

LAバイナリ形式にする場合
BIN /L ZEDA.BIN

※Human68k以外のディスクとやり取りすることがある場合はLAバイナリ形式は消されてし
まう可能性があるのでMSXバイナリ形式がお勧めです。


THE SENTINEL - RetroPC.NET
http://www.retropc.net/ohishi/s-os/

X1 DiskExplorer
https://ceeezet.syuriken.jp/

L3ディスクエクスプローラ(L3 Disk Explorer)
http://s-sasaji.ddo.jp/bml3mk5/

-	-	-	-	-	-	-	-	-	

◆S-OSからのコンバート

　SDIR.BINとSLD.BINを使うとS-OSからLAへコンバートすることができます。

　コンバータが無い場合、IPLリセットを使用する方法と
　Oh!Xに掲載されたINTEGRAL　X1を用いるコンバート方法があります

-	-	-	-	-	-	-	-	-	

◆INTEGRALを用いたテキストファイルのコンバート

<1>　INTEGRALを起動し、COPYコマンドを用いてLAのディスクに転送
します

　　[A:]COPY　ファイル名>　ドライブ名:


-	-	-	-	-	-	-	-	-	


◆IPLを利用したプログラムのコンバート

<1>　S-OSを起動してそのプログラムの開始番地、終了番地、実行番地を調べます
<2>　そのプログラムをロードします

<3>　LAのディスクをセットしてIPLスイッチを押すか#!でブートします

<4>　1で調べた開始番地、終了番地、実行番地を用い、拡張子”BS”でセーブ
します

　　S　ファイル名.BIN:開始番地:終了番地:実行番地


-	-	-	-	-	-	-	-	-	


◆INTEGRALを用いたプログラムのコンバート

<1>　S-OSを起動してそのプログラムの開始番地、実行番地を調べます

<2>　INTEGRALを起動してCOPYの-T5オプションを用いて
LAのディスクに転送します

　　[A:]COPY　ファイル名　ドライブ名:　-T5

<3>　LAを起動して

　　BIN　ファイル名:開始番地:実行番地

とBINコマンドを用いてLAバイナリ形式に変換します

<4>　　　N　ファイル名  ファイル名.BIN

とNAMEコマンドを用いて拡張子を”BIN”にします


-	-	-	-	-	-	-	-	-	


　S-OSプログラムで”LD　(#DSK),A”として
　直接#DSKを書き換えるのはLAではまずいのでCALL　#CHGDRVに変更
　します

　　LD　(#DSK),A　　→　　CALL　#CHGDRV
　　(32　5D　1F)　　　→　　(CD　6A　20)

◆マシン語モニタを用いた変更法

<1>　プログラムをロードします

<2>　　　M

としてマシン語モニタに移ります

<3>　　　*F　<開始番地>　<終了番地>　32　5D　1F

としてLD　(#DSK),Aをさがします

<4>　　　XXXX　32　5D　1F

と表示された物すべてを

　　XXXX　CD　6A　20

に変更してリターンキーを押します

変更した場合はもうS-OSでは動かないので拡張子を”BIN”に変更しましょう

これで、SLANGやWZDシリーズのように#DRDSBや#DWTSBを
用いたプログラム以外はたいてい動くと思います

